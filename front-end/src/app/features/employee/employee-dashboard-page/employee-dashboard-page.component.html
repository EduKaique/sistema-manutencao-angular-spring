<app-header></app-header>

<div class="dashboard">
  <h2>Solicitações Abertas</h2>
  
  <div class="summary-cards">
    <div class="card card-open">
      <div class="card-content">
        <div class="icon-area">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="28" viewBox="0 0 24 28" fill="none">
            <path d="M10.6667 23.9001V14.7667L2.66667 10.1334V19.2667L10.6667 23.9001ZM13.3333 23.9001L21.3333 19.2667V10.1334L13.3333 14.7667V23.9001ZM12 12.4667L19.9 7.90008L12 3.33341L4.1 7.90008L12 12.4667ZM1.33333 21.6001C0.911111 21.3556 0.583333 21.0334 0.35 20.6334C0.116667 20.2334 0 19.789 0 19.3001V8.70008C0 8.21119 0.116667 7.76675 0.35 7.36675C0.583333 6.96675 0.911111 6.64453 1.33333 6.40008L10.6667 1.03341C11.0889 0.78897 11.5333 0.666748 12 0.666748C12.4667 0.666748 12.9111 0.78897 13.3333 1.03341L22.6667 6.40008C23.0889 6.64453 23.4167 6.96675 23.65 7.36675C23.8833 7.76675 24 8.21119 24 8.70008V19.3001C24 19.789 23.8833 20.2334 23.65 20.6334C23.4167 21.0334 23.0889 21.3556 22.6667 21.6001L13.3333 26.9667C12.9111 27.2112 12.4667 27.3334 12 27.3334C11.5333 27.3334 11.0889 27.2112 10.6667 26.9667L1.33333 21.6001Z" fill="#2B3E61"/>
          </svg>
        </div>
        <div class="text-area">
          <span class="label">Solicitações Abertas</span>
          <span class="count">{{ openRequests }}</span>
        </div>
      </div>
    </div>

    <div class="card card-late">
      <div class="card-content">
        <div class="icon-area">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
            <mask id="mask0_527_6445" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="32" height="32">
              <rect width="32" height="32" fill="#D9D9D9"/>
            </mask>
            <g mask="url(#mask0_527_6445)">
              <path d="M20.4001 22.2667L22.2667 20.4001L17.3334 15.4667V9.33342H14.6667V16.5334L20.4001 22.2667ZM16.0001 29.3334C14.1556 29.3334 12.4223 28.9834 10.8001 28.2834C9.17786 27.5834 7.76675 26.6334 6.56675 25.4334C5.36675 24.2334 4.41675 22.8223 3.71675 21.2001C3.01675 19.5779 2.66675 17.8445 2.66675 16.0001C2.66675 14.1556 3.01675 12.4223 3.71675 10.8001C4.41675 9.17786 5.36675 7.76675 6.56675 6.56675C7.76675 5.36675 9.17786 4.41675 10.8001 3.71675C12.4223 3.01675 14.1556 2.66675 16.0001 2.66675C17.8445 2.66675 19.5779 3.01675 21.2001 3.71675C22.8223 4.41675 24.2334 5.36675 25.4334 6.56675C26.6334 7.76675 27.5834 9.17786 28.2834 10.8001C28.9834 12.4223 29.3334 14.1556 29.3334 16.0001C29.3334 17.8445 28.9834 19.5779 28.2834 21.2001C27.5834 22.8223 26.6334 24.2334 25.4334 25.4334C24.2334 26.6334 22.8223 27.5834 21.2001 28.2834C19.5779 28.9834 17.8445 29.3334 16.0001 29.3334ZM16.0001 26.6667C18.9556 26.6667 21.4723 25.6279 23.5501 23.5501C25.6279 21.4723 26.6667 18.9556 26.6667 16.0001C26.6667 13.0445 25.6279 10.5279 23.5501 8.45008C21.4723 6.3723 18.9556 5.33341 16.0001 5.33341C13.0445 5.33341 10.5279 6.3723 8.45008 8.45008C6.3723 10.5279 5.33341 13.0445 5.33341 16.0001C5.33341 18.9556 6.3723 21.4723 8.45008 23.5501C10.5279 25.6279 13.0445 26.6667 16.0001 26.6667Z" fill="#2B3E61"/>
            </g>
          </svg>
        </div>
        <div class="text-area">
          <span class="label">Solicitações Atrasadas</span>
          <span class="count">{{ overdueRequests }}</span>
        </div>
      </div>
    </div>

    <div class="card card-neutral">
      <div class="card-content">
        <div class="icon-area">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
            <mask id="mask0_527_6453" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="32" height="32">
              <rect width="32" height="32" fill="#D9D9D9"/>
            </mask>
            <g mask="url(#mask0_527_6453)">
              <path d="M26.6666 14.6667C26.2888 14.6667 25.9721 14.5389 25.7166 14.2833C25.461 14.0278 25.3333 13.7111 25.3333 13.3333C25.3333 12.9556 25.461 12.6389 25.7166 12.3833C25.9721 12.1278 26.2888 12 26.6666 12C27.0444 12 27.361 12.1278 27.6166 12.3833C27.8721 12.6389 27.9999 12.9556 27.9999 13.3333C27.9999 13.7111 27.8721 14.0278 27.6166 14.2833C27.361 14.5389 27.0444 14.6667 26.6666 14.6667ZM25.3333 10.6667V4H27.9999V10.6667H25.3333ZM11.9999 16C10.5333 16 9.2777 15.4778 8.23325 14.4333C7.18881 13.3889 6.66658 12.1333 6.66658 10.6667C6.66658 9.2 7.18881 7.94444 8.23325 6.9C9.2777 5.85556 10.5333 5.33333 11.9999 5.33333C13.4666 5.33333 14.7221 5.85556 15.7666 6.9C16.811 7.94444 17.3333 9.2 17.3333 10.6667C17.3333 12.1333 16.811 13.3889 15.7666 14.4333C14.7221 15.4778 13.4666 16 11.9999 16ZM1.33325 26.6667V22.9333C1.33325 22.1778 1.5277 21.4833 1.91659 20.85C2.30547 20.2167 2.82214 19.7333 3.46659 19.4C4.84436 18.7111 6.24436 18.1944 7.66658 17.85C9.08881 17.5056 10.5333 17.3333 11.9999 17.3333C13.4666 17.3333 14.911 17.5056 16.3333 17.85C17.7555 18.1944 19.1555 18.7111 20.5333 19.4C21.1777 19.7333 21.6944 20.2167 22.0833 20.85C22.4721 21.4833 22.6666 22.1778 22.6666 22.9333V26.6667H1.33325ZM3.99992 24H19.9999V22.9333C19.9999 22.6889 19.9388 22.4667 19.8166 22.2667C19.6944 22.0667 19.5333 21.9111 19.3333 21.8C18.1333 21.2 16.9221 20.75 15.6999 20.45C14.4777 20.15 13.2444 20 11.9999 20C10.7555 20 9.52214 20.15 8.29992 20.45C7.0777 20.75 5.86659 21.2 4.66658 21.8C4.46659 21.9111 4.30547 22.0667 4.18325 22.2667C4.06103 22.4667 3.99992 22.6889 3.99992 22.9333V24ZM11.9999 13.3333C12.7333 13.3333 13.361 13.0722 13.8833 12.55C14.4055 12.0278 14.6666 11.4 14.6666 10.6667C14.6666 9.93333 14.4055 9.30556 13.8833 8.78333C13.361 8.26111 12.7333 8 11.9999 8C11.2666 8 10.6388 8.26111 10.1166 8.78333C9.59436 9.30556 9.33325 9.93333 9.33325 10.6667C9.33325 11.4 9.59436 12.0278 10.1166 12.55C10.6388 13.0722 11.2666 13.3333 11.9999 13.3333Z" fill="#2B3E61"/>
            </g>
          </svg>
        </div>
        <div class="text-area">
          <span class="label">Sem Responsável</span>
          <span class="count">{{ noResponsible }}</span>
        </div>
      </div>
    </div>

    <div class="card card-today">
      <div class="card-content">
        <div class="icon-area">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
            <mask id="mask0_527_6465" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="32" height="32">
              <rect width="32" height="32" fill="#D9D9D9"/>
            </mask>
            <g mask="url(#mask0_527_6465)">
              <path d="M20.6667 26.5666L15 20.8999L16.8667 19.0333L20.6667 22.8333L28.2 15.2999L30.0667 17.1666L20.6667 26.5666ZM28 13.3333H25.3333V6.66658H22.6667V10.6666H9.33333V6.66658H6.66667V25.3333H14.6667V27.9999H6.66667C5.93333 27.9999 5.30556 27.7388 4.78333 27.2166C4.26111 26.6944 4 26.0666 4 25.3333V6.66658C4 5.93325 4.26111 5.30547 4.78333 4.78325C5.30556 4.26103 5.93333 3.99992 6.66667 3.99992H12.2333C12.4778 3.22214 12.9556 2.58325 13.6667 2.08325C14.3778 1.58325 15.1556 1.33325 16 1.33325C16.8889 1.33325 17.6833 1.58325 18.3833 2.08325C19.0833 2.58325 19.5556 3.22214 19.8 3.99992H25.3333C26.0667 3.99992 26.6944 4.26103 27.2167 4.78325C27.7389 5.30547 28 5.93325 28 6.66658V13.3333ZM16 6.66658C16.3778 6.66658 16.6944 6.53881 16.95 6.28325C17.2056 6.0277 17.3333 5.71103 17.3333 5.33325C17.3333 4.95547 17.2056 4.63881 16.95 4.38325C16.6944 4.1277 16.3778 3.99992 16 3.99992C15.6222 3.99992 15.3056 4.1277 15.05 4.38325C14.7944 4.63881 14.6667 4.95547 14.6667 5.33325C14.6667 5.71103 14.7944 6.0277 15.05 6.28325C15.3056 6.53881 15.6222 6.66658 16 6.66658Z" fill="#2B3E61"/>
            </g>
          </svg>
        </div>
        <div class="text-area">
          <span class="label">Criadas Hoje</span>
          <span class="count">{{ createdToday }}</span>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="request-grid">
    <div class="request-card" *ngFor="let request of requests">
      <h3>{{ request.title }}</h3>
      <p><strong>Aberta há:</strong> {{ request.openedAgo }}</p>
      <p><strong>Categoria:</strong> {{ request.category }}</p>
      <p><strong>Cliente:</strong> {{ request.client }}</p>
      <p *ngIf="request.status"><strong>Status:</strong> {{ request.status }}</p>
      <button (click)="makeQuote(request)">Efetuar Orçamento</button>
    </div>
  </div>


